<!doctype html>
<html>
<head>
  <title>Demo</title>
  <script src="../vendor/require.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/lenta.css" />
  <style type="text/css">
	
	html, body {height: 100%}
	body {margin: 0; padding: 0;}

	.lenta-scrollbar-handler {
		height: 9px;
		width: 10px;
		position: absolute;
		top: -4px;
		background: #666;
	}

	.lenta-scrollbar {
		height: 9px;
		width: 100%;
		position: absolute;
		bottom: 0px;
		z-index: 9999;
	}

	.lenta-scrollbar-track {
		position: relative;
		background: #ddd;
		height: 1px;
		margin: 4px 10px;
	}
  </style>
  
</head>
<body>

	<div class="lenta loading" 
		data-lenta-height="600"
		data-lenta-aspect-ratio="1">
		
		<a class="lenta-next lenta-btn" href="#next">next</a>
		<a class="lenta-prev lenta-btn" href="#prev">prev</a>
		
		<div class="lenta-viewport">
			<ul>
				<li class="loading" data-lenta-width="1024" data-lenta-height="681" data-lenta-aspect-ratio="1">
					<img data-src="images/2.jpg" src="data:image/gif,"  alt=""/>
				</li>
				<li class="loading" data-lenta-width="424" data-lenta-height="684" data-lenta-aspect-ratio="1">
					<img data-src="images/3.jpg" src="data:image/gif,"  alt=""/>
				</li>
				<li class="loading" data-lenta-width="940" data-lenta-height="660" data-lenta-aspect-ratio="1">
					<img data-src="images/4.jpg" src="data:image/gif," alt=""/>
				</li>
				<li class="loading" data-lenta-width="424" data-lenta-height="684" data-lenta-aspect-ratio="1">
					<img data-src="images/5.jpg" src="data:image/gif," alt=""/>
				</li>
				<li class="loading" data-lenta-width="987" data-lenta-height="684" data-lenta-aspect-ratio="1">
					<img data-src="images/6.jpg" src="data:image/gif,"  alt=""/>
				</li>
				<li class="loading" data-lenta-width="940" data-lenta-height="668" data-lenta-aspect-ratio="1">
					<img data-src="images/7.jpg" src="data:image/gif,"  alt=""/>
				</li>
				<li class="loading" data-lenta-width="612" data-lenta-height="612" data-lenta-aspect-ratio="1">
					<img data-src="images/8.jpg" src="data:image/gif," alt=""/>
				</li>
				<li class="loading" data-lenta-width="940" data-lenta-height="656" data-lenta-aspect-ratio="1">
					<img data-src="images/9.jpg" src="data:image/gif," alt=""/>
				</li>
				<li class="loading" data-lenta-width="1024" data-lenta-height="666" data-lenta-aspect-ratio="1">
					<img data-src="images/10.jpg" src="data:image/gif," alt=""/>
				</li>
				<li class="loading" data-lenta-width="457" data-lenta-height="684" data-lenta-aspect-ratio="1">
					<img data-src="images/11.jpg" src="data:image/gif," alt=""/>
				</li>
				
			</ul>
			<div class="lenta-scrollbar">
				<div class="lenta-scrollbar-track">
					<div class="lenta-scrollbar-handler"></div>
				</div>
			</div>
		</div>
		
	</div>
	
	<script>

		requirejs.config({
			baseUrl: '../' + (document.location.hash == '#dist'? 'dist': 'src'),
			paths: {
				'backbone': '../vendor/backbone-min',
				'underscore': '../vendor/underscore-min',
				'jquery': '../vendor/jquery-1.9.0.min',
				'loading-queue': '../vendor/jquery.loading-queue.min',
				'jqueryui': '../vendor/jquery-ui-1.10.1.draggable',
				'mousewheel': '../vendor/jquery.mousewheel'										
			},
			shim: {
				'mousewheel': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'jqueryui': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'loading-queue': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'backbone': {
					deps: ['jquery', 'underscore'],
			    	exports: 'Backbone'
				}
			}
		});
	
		require(['lenta', 'loading-queue'],function(Lenta){
		
			var lenta = new Lenta({
				el: $('.lenta'),
				animatedResizing: false
			});
						
			lenta.render();	
			
			$('img').each(function() {
				$(this).loadingQueue().then(function(img) {
					$(img).parent('li').removeClass('loading');
				});				
			});
		});	
	</script>
</body>
</html>
