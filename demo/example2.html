<!doctype html>
<html>
<head>
  <title>Demo</title>
  <script src="../vendor/require.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/lenta.css" />
  <style type="text/css">
	
	html, body {height: 100%}
	body {margin: 0; padding: 0;}
	
	.grid {
		height: 100%;
		width: 100%;
	}
	.grid .grid-item {margin: 10px;}
	.grid.first .grid-item {background: red;}
	.grid.second .grid-item {background: green;}
	
  </style>
  
</head>
<body>

	<div class="lenta loading" 
		data-lenta-height="400" 
		data-lenta-vertical-align="center" 
		data-lenta-aspect-ratio="1" style="border: 1px solid red; margin-left: auto; margin-right: auto;">
		
		<a class="lenta-next lenta-btn" href="#next">next</a>
		<a class="lenta-prev lenta-btn" href="#prev">prev</a>
		
		<div class="lenta-viewport">
		
			<ul>
				<li data-lenta-aspect-ratio="1" style="background: #cfcfcf">
					
					<div class="grid first" data-grid-aspect-ratio="1">
					
						<div class="grid-layout" 
							data-grid-columns-count="2"
							data-grid-column-max-width="400"
							data-grid-align="center"
							data-grid-vertical-align="center">
						</div>	
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
					</div>
				</li>
				<li data-lenta-aspect-ratio="1" style="background: #cfcfcf">
				
					<div class="grid second" data-grid-aspect-ratio="1">
					
						<div class="grid-layout" 
							data-grid-columns-count="2"
							data-grid-column-max-width="400"
							data-grid-align="center"
							data-grid-vertical-align="center">
						</div>	
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
						
						<div class="grid-item loading" data-grid-aspect-ratio="1">
						</div>
					</div>
				
				</li>
			</ul>
		</div>
		
	</div>
	
	<script>

		requirejs.config({
			baseUrl: '../' + (document.location.hash == '#dist'? 'dist': 'src'),
			paths: {
				'backbone': '../vendor/backbone-min',
				'underscore': '../vendor/underscore-min',
				'jquery': '../vendor/jquery-1.9.0.min',
				'loading-queue': '../vendor/jquery.loading-queue.min',
				'draggable': '../vendor/jquery-ui-1.10.1.draggable',
				'grid': '../vendor/grid',
				'loading-queue': '../vendor/jquery.loading-queue.min',
				'jqueryui': '../vendor/jquery-ui-1.10.1.draggable',
				'mousewheel': '../vendor/jquery.mousewheel'
			},
			shim: {
				'mousewheel': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'draggable': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'loading-queue': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'jqueryui': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'mousewheel': {
					deps: ['jquery'],
			    	exports: '$'
				},
				'backbone': {
					deps: ['jquery', 'underscore'],
			    	exports: 'Backbone'
				}
			}
		});
	
		require(['lenta', 'grid'],function(Lenta, Grid){
			
			var lenta = new Lenta({
				el: $('.lenta')
			});
			
			lenta.render();	
			
			$('.grid').each(function() {
				
				var grid = new Grid({
					el: $(this)
				})
				
				grid.render();
			});
		});	
	</script>
</body>
</html>
